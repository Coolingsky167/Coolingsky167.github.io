<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>设计模式-2 | Coolingsky的博客</title><meta name="keywords" content="设计模式"><meta name="author" content="Coolingsky"><meta name="copyright" content="Coolingsky"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="原型模式(Prototype Pattern)-对象创建型模式模式结构  分析定义Specify the kind of objects to create using a prototypical instance, and create new objects by copying this prototype 结构 Prototype：抽象原型类  ConcretePrototype：具体原">
<meta property="og:type" content="article">
<meta property="og:title" content="设计模式-2">
<meta property="og:url" content="http://example.com/2021/06/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2/index.html">
<meta property="og:site_name" content="Coolingsky的博客">
<meta property="og:description" content="原型模式(Prototype Pattern)-对象创建型模式模式结构  分析定义Specify the kind of objects to create using a prototypical instance, and create new objects by copying this prototype 结构 Prototype：抽象原型类  ConcretePrototype：具体原">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png">
<meta property="article:published_time" content="2021-06-23T12:47:26.000Z">
<meta property="article:modified_time" content="2021-06-25T07:18:49.899Z">
<meta property="article:author" content="Coolingsky">
<meta property="article:tag" content="设计模式">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/fnym.png"><link rel="canonical" href="http://example.com/2021/06/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-06-25 15:18:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/fnym.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page" href="mailto:1029370923@qq.com"><i class="fa-fw fas fa-paper-plane"></i><span> 戳我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Coolingsky的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page" href="mailto:1029370923@qq.com"><i class="fa-fw fas fa-paper-plane"></i><span> 戳我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">设计模式-2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-06-23T12:47:26.000Z" title="发表于 2021-06-23 20:47:26">2021-06-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-25T07:18:49.899Z" title="更新于 2021-06-25 15:18:49">2021-06-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/NJUSE%E8%AF%BE%E7%A8%8B/">NJUSE课程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="原型模式-Prototype-Pattern-对象创建型模式"><a href="#原型模式-Prototype-Pattern-对象创建型模式" class="headerlink" title="原型模式(Prototype Pattern)-对象创建型模式"></a>原型模式(Prototype Pattern)-对象创建型模式</h1><h2 id="模式结构"><a href="#模式结构" class="headerlink" title="模式结构"></a>模式结构</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210623205806.png" alt="image-20210623205806309" style="zoom:50%;" />

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p><strong>Specify the kind of objects to create</strong> using a <strong>prototypical instance</strong>, and create new objects by <strong>copying this prototype</strong></p>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><ol>
<li><p>Prototype：抽象原型类</p>
</li>
<li><p>ConcretePrototype：具体原型类</p>
</li>
<li><p>Client：客户类</p>
</li>
</ol>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol>
<li>当创建新的对象实例较为复杂时，使用原型模式可以简化对象的创建过程，通过一个已有实例可以提高新实例的创建效率</li>
<li>可以动态的增加或者减少产品类</li>
<li>原型模式提供了简化的创建结构</li>
<li>可以使用深克隆的方式保存对象的状态</li>
</ol>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>需要为每一个类配备一个克隆方法（对已有的类进行改造时，不一定是件容易的事， 必须修改其源代码，违背了“开闭原则”）</li>
<li>实现深克隆时需要编写较为复杂的代码</li>
</ol>
<h3 id="适用环境"><a href="#适用环境" class="headerlink" title="适用环境"></a>适用环境</h3><ol>
<li>创建新对象成本较大（相似对象，则可以对其属性稍作修改）</li>
<li>如果系统要保存对象的状态，而对象的状态变化很小，或者对象本身占内存不大的时候，也可以使用<strong>原型模式配合备忘录模式</strong>来应用。</li>
<li>需要避免使用分层次的工厂类来创建分层次的对象，并且类的实例对象只有一个或很少的几个组合状态，通过复制原型对象得到新实例可能比使用构造函数创建一个新实例更加方便</li>
</ol>
<h3 id="模式应用"><a href="#模式应用" class="headerlink" title="模式应用"></a>模式应用</h3><ol>
<li>ctrl c &amp; ctrl v</li>
<li>在Struts2中为了保证线程的安全性 ， Action 对象的创建使用了原型模式 </li>
<li>在 Spring 中 ，用户也可以采用原型模式来创建新的 bean 实例</li>
</ol>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ol>
<li>通常情况下，一个类包含一些成员对象，在使用原型模式克隆对象时，根据其成员对象是否也克隆，原型模式可以分为两种形式：深克隆和浅克隆</li>
</ol>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><h3 id="e1-java-lang-Object"><a href="#e1-java-lang-Object" class="headerlink" title="e1.java.lang.Object"></a>e1.java.lang.Object</h3><ol>
<li>在原型模式结构中定义了一个抽象原型类，所有的Java 类都继承自java.lang.Object，而Object类提供一个 clone()方法，可以将一个Java对象复制一份。因此在 Java中可以直接使用Object提供的clone()方法来实现对象的克隆，Java语言中的原型模式实现很简单<ol>
<li>对任何的对象x，都有x.clone() !=x，即克隆对象与原对象不是同一个对象</li>
<li>对任何的对象x，都有 x.clone().getClass()==x.getClass()，即克隆对象与原对象的类型一样</li>
<li>如果对象x的equals()方法定义恰当，那么 x.clone().equals(x)应该成立。</li>
</ol>
</li>
<li>能够实现克隆的Java类必须实现一个标识接口Cloneable， 表示这个Java类支持复制。如果一个类没有实现这个接 口但是调用了clone()方法，Java编译器将抛出一个 CloneNotSupportedException异常。</li>
</ol>
<img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210623210121.png" alt="image-20210623210121579" style="zoom:50%;" />

<h3 id="e2-邮件复制-浅克隆"><a href="#e2-邮件复制-浅克隆" class="headerlink" title="e2.邮件复制(浅克隆)"></a>e2.邮件复制(浅克隆)</h3><p>邮件对象包含的内容较多（如发送者、接收者、标 题、内容、日期、附件等）使用原型模式设计该系统。在本实例中使用浅克隆实现邮件复制，即复制邮件(Email)的同时不复制附件(Attachment)。</p>
<img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210623212102.png" alt="image-20210623212102572" style="zoom:50%;" />

<h2 id="模式拓展"><a href="#模式拓展" class="headerlink" title="模式拓展"></a>模式拓展</h2><h3 id="带原型管理器的原型模式"><a href="#带原型管理器的原型模式" class="headerlink" title="带原型管理器的原型模式"></a>带原型管理器的原型模式</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210623212846.png" alt="image-20210623212846677" style="zoom:50%;" />

<h3 id="相似对象的复制"><a href="#相似对象的复制" class="headerlink" title="相似对象的复制"></a>相似对象的复制</h3><p>很多情况下，复制所得到的对象与原型对象并不是完全相同的，它们的某些属性值存在异同。通过原型模式获得相同对象后可以再对其属性进行修改，从而获取所需对象。如多个学生对象的信息的区别在于性别、姓名和年龄，而专业、学院、学校等信息都相同，为了简化创建过程，可以通过原型模式来实现相似对象的复制。</p>
<h1 id="状态模式-State-Pattern-行为型模式"><a href="#状态模式-State-Pattern-行为型模式" class="headerlink" title="状态模式(State Pattern)-行为型模式"></a>状态模式(State Pattern)-行为型模式</h1><h2 id="模式结构-1"><a href="#模式结构-1" class="headerlink" title="模式结构"></a>模式结构</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210623213442.png" alt="image-20210623213442769" style="zoom:50%;" />

<h2 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>Allow an object to alter its behavior when its <strong>internal state</strong> changes. The object will appear to change its class.</p>
<blockquote>
<p>其实我们是通过适用组合通过简单引用不同的状态对象来造成类改变的假象</p>
</blockquote>
<h3 id="模式结构-2"><a href="#模式结构-2" class="headerlink" title="模式结构"></a>模式结构</h3><p>Context: 环境类</p>
<blockquote>
<p>环境类实际上就是拥有状态的对象，环境类有时候可以充当状态管理器(State Manager)的角色，可以在环境类中对状态进行切换操作。</p>
</blockquote>
<p>State: 抽象状态类</p>
<blockquote>
<p>引入了一个抽象类(或者接口)来专门表示对象的状态，这个类我们叫做抽象状态类，而对象的每一种具体状态类都继承了该类，并在不同具体状态类中实现了不同状态的行为，包括各种状态之间的转换。</p>
</blockquote>
<p>ConcreteState: 具体状态类</p>
<blockquote>
<p> 将不同对象下的行为单独提取出来封装在具体的状态类中，使得环境类对象在其内部状态改变时可以改变它的行为，对象看起来似乎修改了它的类，而实际上是由于切换到不同的具体状态类实现 的。</p>
</blockquote>
<h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><ol>
<li>封装了转换的原则</li>
<li>枚举可能的状态</li>
<li>方便增加新的状态</li>
<li>允许状态转换逻辑与状态对象合成一体，而不是某一个 巨大的条件语句块。</li>
<li>可以让多个环境对象共享一个状态对象</li>
</ol>
<h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>增加系统类和对象的个数</li>
<li>使用不当会导致程序结构和代码混乱</li>
<li>对开闭原则支持并不友好</li>
</ol>
<h3 id="适用环境-1"><a href="#适用环境-1" class="headerlink" title="适用环境"></a>适用环境</h3><ol>
<li>对象的行为依赖于它的状态（属性）并且可以根据它的状态改变而改变它的相关行为。</li>
<li>代码中包含大量与对象状态有关的条件语句</li>
</ol>
<h3 id="模式应用-1"><a href="#模式应用-1" class="headerlink" title="模式应用"></a>模式应用</h3><ol>
<li>工作流&amp;游戏中，例如政府OA办公系统。使用状态模式可以描述工作流对象（如批文 ）的状态转换以及不同状态下它所具有的行为</li>
<li>在目前主流的RPG（Role Play Game，角色扮演游戏）中，使用状态模式可以对游戏角色进行控制</li>
</ol>
<h2 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h2><h3 id="e1-糖果机器"><a href="#e1-糖果机器" class="headerlink" title="e1.糖果机器"></a>e1.糖果机器</h3><p>head first上的例子，糖果机器和状态。比较在意的是糖果机器拥有对状态的引用，状态同时也引用机器（状态的切换在state中实现）</p>
<p>一般来说，当状态的转换是固定的时候，就设放在context中，当转换比较动态的时候，就放在状态类中，但是这样使得状态类之间产生了依赖（例子中在context里加入getter方法减少依赖）。其实也就是对context类还是对状态类的修改封闭做抉择。</p>
<h3 id="e2-tcpConnection"><a href="#e2-tcpConnection" class="headerlink" title="e2.tcpConnection"></a>e2.tcpConnection</h3><p><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624210608.png" alt="image-20210624210608849"></p>
<h2 id="模式拓展-1"><a href="#模式拓展-1" class="headerlink" title="模式拓展"></a>模式拓展</h2><h3 id="共享状态"><a href="#共享状态" class="headerlink" title="共享状态"></a>共享状态</h3><p>在有些情况下多个环境对象需要共享同一个状态，如果希望在系统中实现<strong>多个环境对象实例共享一个或多个状态对象</strong>，那么需要将这些状态对象定义为环境的静态成员对象。</p>
<p>如果state对象都没有实例变量，那么各个Context可以共享一个State对象，此时的状态是没有内部状态，只有行为的轻量级对象（Flyweight）</p>
<h3 id="简单状态模式与可切换状态的状态模式"><a href="#简单状态模式与可切换状态的状态模式" class="headerlink" title="简单状态模式与可切换状态的状态模式"></a>简单状态模式与可切换状态的状态模式</h3><ul>
<li>简单状态模式是指状态都相互独立， 状态之间无须进行转换的状态模式。它遵循“开闭原则”，在客户端可以针对抽象状态类进行编程</li>
<li>状态类与环境类之间通常还存在关联关系或者依赖关系，在实现状态切换时，在具体状态类内部需要调用环境类Context的setState()方法进行状态的转换操作，增加新的状态类可能需要修改其他某些状态类甚至环境类的源代码</li>
</ul>
<h2 id="与策略模式的比较"><a href="#与策略模式的比较" class="headerlink" title="与策略模式的比较"></a>与策略模式的比较</h2><p>策略模式和状态模式的类图是一样的。</p>
<ul>
<li>对于状态模式，我们将一群<strong>行为封装在状态对象</strong>中，context对象中的行为随时可以委托到那些状态对象中的一个。当前状态在状态集合中转换，反映context的内部状态，从而使得context的行为改变。但是context的<strong>客户对于状态对象基本没有了解</strong></li>
<li>策略模式，客户通常指定context索要组合的策略对象</li>
</ul>
<h3 id="与表驱动的状态机的比较"><a href="#与表驱动的状态机的比较" class="headerlink" title="与表驱动的状态机的比较"></a>与表驱动的状态机的比较</h3><p>/TODO 最后有一节表驱动，不知联系，这里先一笔带过 </p>
<p>State模式对与状态相关的行为进行建模，表驱动着重于定义状态转换</p>
<h1 id="命令模式（Command-Pattern）-行为型模式"><a href="#命令模式（Command-Pattern）-行为型模式" class="headerlink" title="命令模式（Command Pattern）-行为型模式"></a>命令模式（Command Pattern）-行为型模式</h1><h2 id="模式结构-3"><a href="#模式结构-3" class="headerlink" title="模式结构"></a>模式结构</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624211713.png" alt="image-20210624211713361" style="zoom:50%;" />

<h2 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p><strong>Encapsulate a request</strong> as an object, thereby letting you <strong>parameterize clients with different requests</strong>, queue or log requests, and support undoable operations.</p>
<h3 id="模式结构-4"><a href="#模式结构-4" class="headerlink" title="模式结构"></a>模式结构</h3><p>Command: 抽象命令类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Command</span> </span>&#123; <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span>; &#125;</span><br></pre></td></tr></table></figure>

<p>ConcreteCommand: 具体命令类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteCommand</span> <span class="keyword">extends</span> <span class="title">Command</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Receiver receiver;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span> </span>&#123; receiver.action(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Invoker: 调用者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Invoker</span> </span>&#123; </span><br><span class="line">  <span class="keyword">private</span> Command command;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Invoker</span><span class="params">(Command command)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.command=command; &#125; </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCommand</span><span class="params">(Command command)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.command=command; &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//业务方法，用于调用命令类的方法 </span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    command.execute(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Receiver: 接收者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Receiver</span> </span>&#123; <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">()</span> </span>&#123; <span class="comment">//具体操作 &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p>Client:客户类</p>
<h3 id="模式分析"><a href="#模式分析" class="headerlink" title="模式分析"></a>模式分析</h3><ol>
<li>对命令进行封装，将发出命令的责任 和执行命令的责任分割开</li>
<li>命令模式允许请求的一方和接收的一方独立开来，使得请求的一方不必知道接收请求的一方的接口</li>
<li>命令模式使请求本身成为一个对象，这个对象和其他对象一样可以被存储和传递。</li>
<li>命令模式的关键在于引入了抽象命令接口，且发送者针对抽象命令接口编程，只有实现了抽象命令接口的具体命令才能与接收者相关联。</li>
</ol>
<h3 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h3><ol>
<li>降低系统的耦合度</li>
<li>新的命令可以容易地加入到系统中</li>
<li>可以比较容易的设计一个命令队列和宏命令（组合命令）</li>
<li>可以方便地实现对命令的Undo和Redo<ol>
<li>ConcreteCommand对象需要存储额外的状态信息：接收者对象；接收者执行操作的参数；如果请求的操作会改变接收者对象中的某些值，那么这些值也要先存储起来</li>
<li>如果只支持一次取消操作，那么只需要存储最近一次被执行的命令，如果是多级的取消和重做，则需要一个历史列表</li>
<li>被放入历史列表中的必须拷贝的command（没有改变状态的保存引用即可）起着原型的作用</li>
</ol>
</li>
</ol>
<h3 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h3><p>导致系统有过多的具体命令类</p>
<h3 id="适用环境-2"><a href="#适用环境-2" class="headerlink" title="适用环境"></a>适用环境</h3><ol>
<li><p>需要将请求调用者和请求接收者解耦合</p>
</li>
<li><p>需要在不同的时间指定请求、将请求排队和执行请求</p>
</li>
<li><p>支持Undo和Redo</p>
</li>
<li><p>需要将一系列操作组合</p>
</li>
</ol>
<h3 id="模式应用-2"><a href="#模式应用-2" class="headerlink" title="模式应用"></a>模式应用</h3><ol>
<li>Java语言使用命令模式实现AWT/Swing GUI的委派事件模型 (Delegation Event Model, DEM)</li>
<li>UNIX平台下的 Shell编程</li>
</ol>
<h2 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h2><h3 id="e1-Order"><a href="#e1-Order" class="headerlink" title="e1.Order"></a>e1.Order</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624213726.png" alt="image-20210624213726634" style="zoom:50%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommandPatternDemo</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      Stock abcStock = <span class="keyword">new</span> Stock();</span><br><span class="line"> </span><br><span class="line">      BuyStock buyStockOrder = <span class="keyword">new</span> BuyStock(abcStock);</span><br><span class="line">      SellStock sellStockOrder = <span class="keyword">new</span> SellStock(abcStock);</span><br><span class="line"> </span><br><span class="line">      Broker broker = <span class="keyword">new</span> Broker();</span><br><span class="line">      broker.takeOrder(buyStockOrder); <span class="comment">//broker内维护一个orderList</span></span><br><span class="line">      broker.takeOrder(sellStockOrder);</span><br><span class="line"> </span><br><span class="line">      broker.placeOrders(); <span class="comment">//顺序执行列表操作最后清空</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="e2-电视机遥控器"><a href="#e2-电视机遥控器" class="headerlink" title="e2.电视机遥控器"></a>e2.电视机遥控器</h3><p>电视机是receiver 遥控器是请求的发送者</p>
<img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624214338.png" alt="image-20210624214338213" style="zoom: 200%;" />

<h3 id="e3-自定义功能键"><a href="#e3-自定义功能键" class="headerlink" title="e3.自定义功能键"></a>e3.自定义功能键</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624214648.png" alt="image-20210624214648296" style="zoom:50%;" />

<h3 id="e4-菜单栏"><a href="#e4-菜单栏" class="headerlink" title="e4.菜单栏"></a>e4.菜单栏</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624214925.png" alt="image-20210624214925899" style="zoom:50%;" />

<p>concreteCommand: PasteCommand&amp;OpenCommand</p>
<p>Client: Application</p>
<p>Invoker: MenuItem</p>
<p>Receiver: Document&amp;Application(知道如何实施与执行一个请求相关的操作。任何类都可能作为一个接收者)</p>
<h2 id="模式拓展-2"><a href="#模式拓展-2" class="headerlink" title="模式拓展"></a>模式拓展</h2><h3 id="撤销操作"><a href="#撤销操作" class="headerlink" title="撤销操作"></a>撤销操作</h3><p><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624225225.png" alt="image-20210624225225409"></p>
<h2 id="组合命令"><a href="#组合命令" class="headerlink" title="组合命令"></a>组合命令</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624225257.png" alt="image-20210624225257132" style="zoom:50%;" />

<p>宏命令也是一个具体命令，不过它包含了对其他命令对象 的引用，在调用宏命令的execute()方法时，将递归调用它所包含的每个成员命令的execute()方法，一个宏命令的成员对象可以是简单命令，还可以继续是宏命令</p>
<h1 id="观察者模式（Observer-Pattern）-行为型模式"><a href="#观察者模式（Observer-Pattern）-行为型模式" class="headerlink" title="观察者模式（Observer Pattern）-行为型模式"></a>观察者模式（Observer Pattern）-行为型模式</h1><h2 id="模式结构-5"><a href="#模式结构-5" class="headerlink" title="模式结构"></a>模式结构</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624233124.png" alt="image-20210624233124224" style="zoom:50%;" />



<h2 id="分析-3"><a href="#分析-3" class="headerlink" title="分析"></a>分析</h2><h3 id="定义-3"><a href="#定义-3" class="headerlink" title="定义"></a>定义</h3><p>Define a <strong>one-to-many dependency</strong> between objects so that when <strong>one object changes state</strong>, <strong>all its dependents are notified and updated automatically</strong>.</p>
<h3 id="模式结构-6"><a href="#模式结构-6" class="headerlink" title="模式结构"></a>模式结构</h3><ul>
<li>Subject 目标</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*; </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> ArrayList observers = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">attach</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">detach</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">notify</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ConcreteSubject 具体目标</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteSubject</span> <span class="keyword">extends</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attach</span><span class="params">(Observer observer)</span> </span>&#123; observers.add(observer); &#125; </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">detach</span><span class="params">(Observer observer)</span> </span>&#123; observers.remove(observer); &#125; </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notify</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="keyword">for</span>(Object obs:observers) &#123; 				   ((Observer)obs).update(); &#125; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Observer 观察者</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123; <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>; &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ConcreteObserver 具体观察者</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserver</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123; </span><br><span class="line">    <span class="comment">//具体更新代码</span></span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="模式分析-1"><a href="#模式分析-1" class="headerlink" title="模式分析"></a>模式分析</h3><ol>
<li>观察者模式描述了如何建立对象与对象之间的依赖关系</li>
<li>一个目标可以有任意数目的与之相依赖的观察者，一旦目标的状态发生改变，所有的观察者都将得到通知</li>
<li>作为对这个通知的响应，每个观察者都将即时更新自己的状态，以 与目标状态同步， 这种交互也称为发布-订阅(publish-subscribe)目标是通知的发布者，它发出通知时并不需要知道谁是它的观察者， 可以有任意数目的观察者订阅它并接收通知</li>
</ol>
<h3 id="优点-3"><a href="#优点-3" class="headerlink" title="优点"></a>优点</h3><ol>
<li>实现表示层和数据逻辑层的分离</li>
<li>在观察目标和观察者之间建立了抽象的耦合</li>
<li>支持广播通信</li>
<li>符合开闭原则</li>
</ol>
<h3 id="缺点-3"><a href="#缺点-3" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>如果一个观察目标有很多直接或者间接的观察者，将所有观察者都通知到会花费很多时间</li>
<li>如果观察者和观察目标之间有循环依赖的话，观察目标会触发循环调用，导致系统崩溃</li>
<li>观察者模式没有相应的机制让观察者知道所观察的目标对象是怎样发生变化的，仅仅是知道观察目标发生了变化</li>
</ol>
<h3 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h3><ol>
<li>一个抽象模型有两个方面，一个方面依赖另一个方面，将这些方面封装在独立的对象中使得他们可以各自独自地改变和复用</li>
<li>一个对象的改变将导致其他的一个或多个对象也发生改变，而不知道具体有多少对象将要发生改变</li>
<li>一个对象必须通知其他对象，而并不知道这些对象是谁</li>
<li>需要在系统中创建一个触发链（链式触发机制）</li>
</ol>
<h3 id="模式应用-3"><a href="#模式应用-3" class="headerlink" title="模式应用"></a>模式应用</h3><ol>
<li>委派事件模型(Delegation Event Model, DEM)：事件源对象、事件监听对象（事件处理对象）和事件对象构成了Java 事件处理模型的三要素。</li>
<li>SAX2以及Servlet技术的事件处理机制都基于DEM</li>
<li>凡是涉及到一对一或者一对多的对象交互场景都可以使用观察者模式。</li>
</ol>
<h2 id="例子-3"><a href="#例子-3" class="headerlink" title="例子"></a>例子</h2><h3 id="e1-猫狗老鼠"><a href="#e1-猫狗老鼠" class="headerlink" title="e1.猫狗老鼠"></a>e1.猫狗老鼠</h3><p>猫叫老鼠叫、狗也叫</p>
<p><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210624234804.png" alt="image-20210624234804147"></p>
<h3 id="e2-自定义登陆组件"><a href="#e2-自定义登陆组件" class="headerlink" title="e2.自定义登陆组件"></a>e2.自定义登陆组件</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625131554.png" alt="image-20210625131554257" style="zoom:50%;" />

<h3 id="e3-气象站"><a href="#e3-气象站" class="headerlink" title="e3.气象站"></a>e3.气象站</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625135247.png" alt="image-20210625135247091" style="zoom:50%;" />

<ul>
<li>为什么要保存对 Subject的引用呢？构造完后似乎用不着了呀？</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">CurrentConditionsDisplay</span><span class="params">(Subject weatherData)</span> </span>&#123; <span class="keyword">this</span>.weatherData = weatherData; weatherData.registerObserver(<span class="keyword">this</span>); &#125;</span><br></pre></td></tr></table></figure>

<p>的确如此， 但是以后我们可能想要取消注册， 如果已经有了对Subject的引用会比较方便。</p>
<h2 id="模式拓展-3"><a href="#模式拓展-3" class="headerlink" title="模式拓展"></a>模式拓展</h2><h3 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h3><p>JDK的util包中，提供了Observable类和Observer接口</p>
<img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625133847.png" alt="image-20210625133847269" style="zoom:50%;" />

<p><strong>setchange()</strong></p>
<p>setChanged()方法用来标记状态已经改变的事实，好让notifyObservers()知道当它被调 用时应该更新观察者。如果调用notifyObservers()之前没有先调用setChanged()，观察者 就“不会”被通知。(clearChanged将状态设置为false，haschanged()查看当前状态)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">setChanged()&#123;</span><br><span class="line">  changed=<span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">notifyObservers(Object arg)&#123;</span><br><span class="line">  <span class="keyword">if</span>(changed)&#123;</span><br><span class="line">    <span class="keyword">for</span> observer on the list&#123;</span><br><span class="line">      update();</span><br><span class="line">    &#125;</span><br><span class="line">    changed=<span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">notifyObservers()&#123;</span><br><span class="line">	notifyObservers(<span class="keyword">null</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>为什么需要Obeject arg：</strong></p>
<p>如何与调用者通信，则是添加了类型为Object的参数（该参数是调用者调用Observable实例的notifyObservers(Object obj)方法时传入的，当然也可以不传）</p>
<p><strong>Push model &amp; pull model</strong></p>
<ul>
<li><p>目标向观察者发送改变的详细信息，而不管它们需要与否（假设目标知道一些观察者需要的信息，使得观察者相对难复用）：推模型</p>
<ul>
<li>“推”（push）数据给观察者，可以把数据当作数据对象传送给 notifyObservers(arg)方法</li>
</ul>
</li>
<li><p>目标除了最小通知外什么都不送出，而在此之后由观察者显式地向目标询问（强调目标不知道它的观察者是谁）：拉模型</p>
<ul>
<li>我们没有调用 notifyObservers()传送数据对象，这表示采用的做法是“拉”。</li>
</ul>
</li>
</ul>
<p><strong>一些缺点：</strong></p>
<ul>
<li>Observable是一个具体实现类，面向细节了,而未面向抽象</li>
<li>使用Observable时需要使用继承，由于java的类单继承性，如果你的类已经继承了一个类，将不能继承Observable来实现观察者模式，并且由于setChanged和clearChanged方法都是protected的，所以你也不能通过组合来完成观察者模式</li>
</ul>
<h3 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625134325.png" alt="image-20210625134325318" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625134246.png" alt="image-20210625134246245" style="zoom:67%;" />

<h1 id="中介者模式-Mediator-Pattern-行为型模式"><a href="#中介者模式-Mediator-Pattern-行为型模式" class="headerlink" title="中介者模式(Mediator Pattern)-行为型模式"></a>中介者模式(Mediator Pattern)-行为型模式</h1><h2 id="模式结构-7"><a href="#模式结构-7" class="headerlink" title="模式结构"></a>模式结构</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625141624.png" alt="image-20210625141624224" style="zoom:67%;" />

<h2 id="分析-4"><a href="#分析-4" class="headerlink" title="分析"></a>分析</h2><h3 id="定义-4"><a href="#定义-4" class="headerlink" title="定义"></a>定义</h3><p>Define an object that encapsulates how a set of objects interact. Mediator promotes <strong>loose coupling</strong> by <strong>keeping objects from referring to each other explicitly</strong>, and it lets you <strong>vary their interaction independently</strong>.</p>
<h3 id="模式结构-8"><a href="#模式结构-8" class="headerlink" title="模式结构"></a>模式结构</h3><ul>
<li>Mediator:中介者，定义一个接口用于和各个colleague对象通信</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Mediator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> ArrayList colleagues;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">(Colleague colleague)</span> </span>&#123; colleagues.add(colleague); &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ConcreteMediator：具体中介者</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteMediator</span> <span class="keyword">extends</span> <span class="title">Mediator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123; ...... ((Colleague)(colleagues.get(<span class="number">0</span>))).method1(); ......</span><br><span class="line"></span><br><span class="line">&#125; &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Colleague：同事类都知道他的中介者对象，当需要和其他同事通信的时候，与中介者通信</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Colleague</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">protected</span> Mediator mediator; </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Colleague</span><span class="params">(Mediator mediator)</span> </span>&#123; <span class="keyword">this</span>.mediator=mediator; &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ConcreteColleague</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteColleague</span> <span class="keyword">extends</span> <span class="title">Colleague</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ConcreteColleague</span><span class="params">(Mediator mediator)</span> </span>&#123; <span class="keyword">super</span>(mediator); &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123; ......&#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123; mediator.operation1(); &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="模式分析-2"><a href="#模式分析-2" class="headerlink" title="模式分析"></a>模式分析</h3><ol>
<li>使得对象之间的关系数量急剧的减少</li>
<li>中介者的职责<ol>
<li>中转作用（结构性）</li>
<li>协调作用（行为性）</li>
</ol>
</li>
<li>中介者模式是迪米特法则的经典应用：通过创造出一个中介者对象，将系统中的对象引用的其他对象数目减少到最小</li>
</ol>
<h3 id="优点-4"><a href="#优点-4" class="headerlink" title="优点"></a>优点</h3><ol>
<li>简化了对象之间的交互</li>
<li>将各类同事解耦合</li>
<li>减少子类生成</li>
<li>简化对各同事类的设计和实现</li>
</ol>
<h3 id="缺点-4"><a href="#缺点-4" class="headerlink" title="缺点"></a>缺点</h3><p>在具体中介者类中包含了同事之间的交互细节，可能会导致具体中介类非常复杂，使得系统难以维护</p>
<h3 id="适用条件"><a href="#适用条件" class="headerlink" title="适用条件"></a>适用条件</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625143508.png" alt="image-20210625143508130" style="zoom:67%;" />

<h3 id="模式应用-4"><a href="#模式应用-4" class="headerlink" title="模式应用"></a>模式应用</h3><ol>
<li>驱动类软件，比如设计GUI时组件的协调</li>
<li>MVC中的Controller就是中介者，负责view和model的交互</li>
<li>Struts中，Action作为JSP与业务对象的中介</li>
</ol>
<h2 id="例子-4"><a href="#例子-4" class="headerlink" title="例子"></a>例子</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625142813.png" alt="image-20210625142813390" style="zoom:67%;" />

<h2 id="模式拓展-4"><a href="#模式拓展-4" class="headerlink" title="模式拓展"></a>模式拓展</h2><h3 id="与迪米特法则"><a href="#与迪米特法则" class="headerlink" title="与迪米特法则"></a>与迪米特法则</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625144030.png" alt="image-20210625144030428" style="zoom: 67%;" />

<h3 id="与GUI开发"><a href="#与GUI开发" class="headerlink" title="与GUI开发"></a>与GUI开发</h3><p>GUI开发中多个界面中组件的交互关系可以交给中介者</p>
<h1 id="模版方法模式-Template-Method-Pattern-行为型模式"><a href="#模版方法模式-Template-Method-Pattern-行为型模式" class="headerlink" title="模版方法模式(Template Method Pattern)-行为型模式"></a>模版方法模式(Template Method Pattern)-行为型模式</h1><h2 id="模式结构-9"><a href="#模式结构-9" class="headerlink" title="模式结构"></a>模式结构</h2><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625145223.png" alt="image-20210625145223752" style="zoom:67%;" />

<p>基于父类，将相同的代码放在父类，不同的放在子类</p>
<h2 id="分析-5"><a href="#分析-5" class="headerlink" title="分析"></a>分析</h2><h3 id="定义-5"><a href="#定义-5" class="headerlink" title="定义"></a>定义</h3><p>Define the <strong>skeleton of an algorithm</strong> in an operation, <strong>deferring some steps to subclasses</strong>. Template Method lets subclasses <strong>redefine certain steps</strong> of an algorithm <strong>without changing the algorithm’s structure.</strong></p>
<h3 id="模式结构-10"><a href="#模式结构-10" class="headerlink" title="模式结构"></a>模式结构</h3><p>AbstractClass: 抽象类</p>
<p>ConcreteClass: 具体子类</p>
<h3 id="模式分析-3"><a href="#模式分析-3" class="headerlink" title="模式分析"></a>模式分析</h3><ol>
<li>只有类的继承关系，没有对象关联关系</li>
<li>实现具体逻辑步骤的方法成为基本方法 (Primitive Method)， 而将这些基本方法汇总起来的方法称为模板方法(Template Method)</li>
<li>基本方法包括<ol>
<li>抽象方法</li>
<li>具体方法</li>
<li>钩子方法</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">template</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  open();</span><br><span class="line">  display();</span><br><span class="line">  <span class="keyword">if</span>(isPrint())</span><br><span class="line">    &#123;</span><br><span class="line">    print();</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//钩子方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPrint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>在模板方法模式中，由于面向对象的多态性，子类对象在运行时将覆盖父类对象，子类中定义的方法也将覆盖父类中定义的方法，因此程序在运行时，具体子类的基本方法将覆盖父类中定义的基本方法，子类的钩子方法 也将覆盖父类的钩子方法，从而可以通过在子类中实现的钩子方法对父类方法的执行进行约束，实现子类对父类行为的反向控制。</li>
</ol>
<h3 id="优点-5"><a href="#优点-5" class="headerlink" title="优点"></a>优点</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625150426.png" alt="image-20210625150426831" style="zoom:50%;" />

<h3 id="缺点-5"><a href="#缺点-5" class="headerlink" title="缺点"></a>缺点</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625150454.png" alt="image-20210625150454761" style="zoom:50%;" />

<h3 id="适用条件-1"><a href="#适用条件-1" class="headerlink" title="适用条件"></a>适用条件</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625150537.png" alt="image-20210625150536976" style="zoom:50%;" />

<h3 id="模式应用-5"><a href="#模式应用-5" class="headerlink" title="模式应用"></a>模式应用</h3><ol>
<li>框架开发（spring、Struts）中父类控制处理流程的逻辑顺序</li>
<li>Junit</li>
</ol>
<img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625150715.png" alt="image-20210625150715552" style="zoom:50%;" />


<h2 id="例子-5"><a href="#例子-5" class="headerlink" title="例子"></a>例子</h2><h3 id="e1-银行业务"><a href="#e1-银行业务" class="headerlink" title="e1.银行业务"></a>e1.银行业务</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625150239.png" alt="image-20210625150239319" style="zoom:50%;" />

<h3 id="e3-数据库操作模版"><a href="#e3-数据库操作模版" class="headerlink" title="e3.数据库操作模版"></a>e3.数据库操作模版</h3><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210625150319.png" alt="image-20210625150319668" style="zoom: 67%;" />

<h2 id="模式拓展-5"><a href="#模式拓展-5" class="headerlink" title="模式拓展"></a>模式拓展</h2><h3 id="关于继承"><a href="#关于继承" class="headerlink" title="关于继承"></a>关于继承</h3><p>恰当使用继承，将可复用的一般代码移到父类（是体现继承优势的模式之一）</p>
<h3 id="好莱坞原则"><a href="#好莱坞原则" class="headerlink" title="好莱坞原则"></a>好莱坞原则</h3><p>Don‘t call us, we’ll call you：通过覆盖父类方法实现某些具体业务逻辑，父类控制对子类的调用</p>
<p>与依赖倒置原则一样，都是为了解耦合，但是依赖倒置更注重如何在设计中避免依赖</p>
<h3 id="钩子方法"><a href="#钩子方法" class="headerlink" title="钩子方法"></a>钩子方法</h3><ul>
<li>使得子类可以控制父类</li>
<li>最简单的钩子方法可以是空方法&amp;在钩子方法中定义一个默认的实现（只会返回true）</li>
<li>通过boolean对其他方法进行约束</li>
</ul>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><strong>[1]</strong> <a target="_blank" rel="noopener" href="http://c.biancheng.net/view/1343.html">http://c.biancheng.net/view/1343.html</a></p>
<p><strong>[2]</strong> Head first 设计模式</p>
<p><strong>[3]</strong> 设计模式：可复用面向对象软件的基础</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Coolingsky</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2021/06/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2/">http://example.com/2021/06/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Coolingsky的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/IMG_2469.JPG" target="_blank"><img class="post-qr-code-img" src="/img/IMG_2469.JPG" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/06/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-3/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">设计模式-3</div></div></a></div><div class="next-post pull-right"><a href="/2021/05/31/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-1/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">设计模式-1</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/05/31/设计模式-1/" title="设计模式-1"><img class="cover" src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-31</div><div class="title">设计模式-1</div></div></a></div><div><a href="/2021/06/25/设计模式-3/" title="设计模式-3"><img class="cover" src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-25</div><div class="title">设计模式-3</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/fnym.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Coolingsky</div><div class="author-info__description">A man can be destroyed but not defeated</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Coolingsky167"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Coolingsky167" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1029370923@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">Welcome to Coolingsky's tech blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F-Prototype-Pattern-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">原型模式(Prototype Pattern)-对象创建型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90"><span class="toc-number">1.2.</span> <span class="toc-text">分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.2.</span> <span class="toc-text">结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">1.2.3.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">1.2.4.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E7%8E%AF%E5%A2%83"><span class="toc-number">1.2.5.</span> <span class="toc-text">适用环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8"><span class="toc-number">1.2.6.</span> <span class="toc-text">模式应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.2.7.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">1.3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#e1-java-lang-Object"><span class="toc-number">1.3.1.</span> <span class="toc-text">e1.java.lang.Object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2-%E9%82%AE%E4%BB%B6%E5%A4%8D%E5%88%B6-%E6%B5%85%E5%85%8B%E9%9A%86"><span class="toc-number">1.3.2.</span> <span class="toc-text">e2.邮件复制(浅克隆)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95"><span class="toc-number">1.4.</span> <span class="toc-text">模式拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E5%8E%9F%E5%9E%8B%E7%AE%A1%E7%90%86%E5%99%A8%E7%9A%84%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">带原型管理器的原型模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">1.4.2.</span> <span class="toc-text">相似对象的复制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F-State-Pattern-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">状态模式(State Pattern)-行为型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-1"><span class="toc-number">2.1.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90-1"><span class="toc-number">2.2.</span> <span class="toc-text">分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-2"><span class="toc-number">2.2.2.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-1"><span class="toc-number">2.2.3.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-1"><span class="toc-number">2.2.4.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E7%8E%AF%E5%A2%83-1"><span class="toc-number">2.2.5.</span> <span class="toc-text">适用环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-1"><span class="toc-number">2.2.6.</span> <span class="toc-text">模式应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-1"><span class="toc-number">2.3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#e1-%E7%B3%96%E6%9E%9C%E6%9C%BA%E5%99%A8"><span class="toc-number">2.3.1.</span> <span class="toc-text">e1.糖果机器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2-tcpConnection"><span class="toc-number">2.3.2.</span> <span class="toc-text">e2.tcpConnection</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95-1"><span class="toc-number">2.4.</span> <span class="toc-text">模式拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E7%8A%B6%E6%80%81"><span class="toc-number">2.4.1.</span> <span class="toc-text">共享状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%8F%AF%E5%88%87%E6%8D%A2%E7%8A%B6%E6%80%81%E7%9A%84%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.4.2.</span> <span class="toc-text">简单状态模式与可切换状态的状态模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.5.</span> <span class="toc-text">与策略模式的比较</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E8%A1%A8%E9%A9%B1%E5%8A%A8%E7%9A%84%E7%8A%B6%E6%80%81%E6%9C%BA%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.5.1.</span> <span class="toc-text">与表驱动的状态机的比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%EF%BC%88Command-Pattern%EF%BC%89-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">命令模式（Command Pattern）-行为型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-3"><span class="toc-number">3.1.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90-2"><span class="toc-number">3.2.</span> <span class="toc-text">分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="toc-number">3.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-4"><span class="toc-number">3.2.2.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90"><span class="toc-number">3.2.3.</span> <span class="toc-text">模式分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-2"><span class="toc-number">3.2.4.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-2"><span class="toc-number">3.2.5.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E7%8E%AF%E5%A2%83-2"><span class="toc-number">3.2.6.</span> <span class="toc-text">适用环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-2"><span class="toc-number">3.2.7.</span> <span class="toc-text">模式应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-2"><span class="toc-number">3.3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#e1-Order"><span class="toc-number">3.3.1.</span> <span class="toc-text">e1.Order</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2-%E7%94%B5%E8%A7%86%E6%9C%BA%E9%81%A5%E6%8E%A7%E5%99%A8"><span class="toc-number">3.3.2.</span> <span class="toc-text">e2.电视机遥控器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e3-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD%E9%94%AE"><span class="toc-number">3.3.3.</span> <span class="toc-text">e3.自定义功能键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e4-%E8%8F%9C%E5%8D%95%E6%A0%8F"><span class="toc-number">3.3.4.</span> <span class="toc-text">e4.菜单栏</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95-2"><span class="toc-number">3.4.</span> <span class="toc-text">模式拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%92%A4%E9%94%80%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.1.</span> <span class="toc-text">撤销操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%91%BD%E4%BB%A4"><span class="toc-number">3.5.</span> <span class="toc-text">组合命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%88Observer-Pattern%EF%BC%89-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">观察者模式（Observer Pattern）-行为型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-5"><span class="toc-number">4.1.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90-3"><span class="toc-number">4.2.</span> <span class="toc-text">分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-3"><span class="toc-number">4.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-6"><span class="toc-number">4.2.2.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">模式分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-3"><span class="toc-number">4.2.4.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-3"><span class="toc-number">4.2.5.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">4.2.6.</span> <span class="toc-text">适用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-3"><span class="toc-number">4.2.7.</span> <span class="toc-text">模式应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-3"><span class="toc-number">4.3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#e1-%E7%8C%AB%E7%8B%97%E8%80%81%E9%BC%A0"><span class="toc-number">4.3.1.</span> <span class="toc-text">e1.猫狗老鼠</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%99%BB%E9%99%86%E7%BB%84%E4%BB%B6"><span class="toc-number">4.3.2.</span> <span class="toc-text">e2.自定义登陆组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e3-%E6%B0%94%E8%B1%A1%E7%AB%99"><span class="toc-number">4.3.3.</span> <span class="toc-text">e3.气象站</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95-3"><span class="toc-number">4.4.</span> <span class="toc-text">模式拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDK"><span class="toc-number">4.4.1.</span> <span class="toc-text">JDK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MVC"><span class="toc-number">4.4.2.</span> <span class="toc-text">MVC</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F-Mediator-Pattern-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">中介者模式(Mediator Pattern)-行为型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-7"><span class="toc-number">5.1.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90-4"><span class="toc-number">5.2.</span> <span class="toc-text">分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-4"><span class="toc-number">5.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-8"><span class="toc-number">5.2.2.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90-2"><span class="toc-number">5.2.3.</span> <span class="toc-text">模式分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-4"><span class="toc-number">5.2.4.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-4"><span class="toc-number">5.2.5.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.2.6.</span> <span class="toc-text">适用条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-4"><span class="toc-number">5.2.7.</span> <span class="toc-text">模式应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-4"><span class="toc-number">5.3.</span> <span class="toc-text">例子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95-4"><span class="toc-number">5.4.</span> <span class="toc-text">模式拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99"><span class="toc-number">5.4.1.</span> <span class="toc-text">与迪米特法则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8EGUI%E5%BC%80%E5%8F%91"><span class="toc-number">5.4.2.</span> <span class="toc-text">与GUI开发</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E7%89%88%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Template-Method-Pattern-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.</span> <span class="toc-text">模版方法模式(Template Method Pattern)-行为型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-9"><span class="toc-number">6.1.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90-5"><span class="toc-number">6.2.</span> <span class="toc-text">分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-5"><span class="toc-number">6.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-10"><span class="toc-number">6.2.2.</span> <span class="toc-text">模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90-3"><span class="toc-number">6.2.3.</span> <span class="toc-text">模式分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-5"><span class="toc-number">6.2.4.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-5"><span class="toc-number">6.2.5.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E6%9D%A1%E4%BB%B6-1"><span class="toc-number">6.2.6.</span> <span class="toc-text">适用条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-5"><span class="toc-number">6.2.7.</span> <span class="toc-text">模式应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-5"><span class="toc-number">6.3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#e1-%E9%93%B6%E8%A1%8C%E4%B8%9A%E5%8A%A1"><span class="toc-number">6.3.1.</span> <span class="toc-text">e1.银行业务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E6%A8%A1%E7%89%88"><span class="toc-number">6.3.2.</span> <span class="toc-text">e3.数据库操作模版</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E6%8B%93%E5%B1%95-5"><span class="toc-number">6.4.</span> <span class="toc-text">模式拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E7%BB%A7%E6%89%BF"><span class="toc-number">6.4.1.</span> <span class="toc-text">关于继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%BD%E8%8E%B1%E5%9D%9E%E5%8E%9F%E5%88%99"><span class="toc-number">6.4.2.</span> <span class="toc-text">好莱坞原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%92%A9%E5%AD%90%E6%96%B9%E6%B3%95"><span class="toc-number">6.4.3.</span> <span class="toc-text">钩子方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">7.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/06/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-3/" title="设计模式-3"><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-3"/></a><div class="content"><a class="title" href="/2021/06/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-3/" title="设计模式-3">设计模式-3</a><time datetime="2021-06-25T07:19:35.000Z" title="发表于 2021-06-25 15:19:35">2021-06-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2/" title="设计模式-2"><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-2"/></a><div class="content"><a class="title" href="/2021/06/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2/" title="设计模式-2">设计模式-2</a><time datetime="2021-06-23T12:47:26.000Z" title="发表于 2021-06-23 20:47:26">2021-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/31/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-1/" title="设计模式-1"><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-1"/></a><div class="content"><a class="title" href="/2021/05/31/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-1/" title="设计模式-1">设计模式-1</a><time datetime="2021-05-31T15:07:26.000Z" title="发表于 2021-05-31 23:07:26">2021-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/17/ServletStudy/" title="ServletStudy"><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210517215734.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ServletStudy"/></a><div class="content"><a class="title" href="/2021/05/17/ServletStudy/" title="ServletStudy">ServletStudy</a><time datetime="2021-05-17T13:54:12.000Z" title="发表于 2021-05-17 21:54:12">2021-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/26/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91-%E5%A4%8D%E4%B9%A0%E8%83%8C%E8%AF%B5/" title="数据库开发-复习背诵"><img src="https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/image-20210426171314580.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库开发-复习背诵"/></a><div class="content"><a class="title" href="/2021/04/26/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91-%E5%A4%8D%E4%B9%A0%E8%83%8C%E8%AF%B5/" title="数据库开发-复习背诵">数据库开发-复习背诵</a><time datetime="2021-04-26T09:11:31.000Z" title="发表于 2021-04-26 17:11:31">2021-04-26</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/Coolingsky167/Figure/cover/20210531230831.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Coolingsky</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a><br>
<a href="http://www.beian.miit.gov.cn/"  style="color:#ffffff" target="_blank">苏ICP备2021014309号</a></div><div class="footer_custom_text">Welcome.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>